<!DOCTYPE html>
<html oncontextmenu="return false" onselectstart="return false">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <style>
        h1{
            font-family: HY동녘M;
            font-size: 72px;
            color: paleturquoise;
            text-shadow: 0 0 4px black;
        }
        button, .input{
            background-color: white;
            border: none;
            font-weight: bold;  
            font-size: 27px;
            text-decoration: none;
            color: thistle;
            padding: 20px; 
            outline: none;
        }
        th{
            font-family: 한컴 소망 B;
            font-size: 18px;
            padding: 10px;
        }
        td{
            padding: 10px;
        }
        input{
            outline: none;
        }
        a{
            font-weight: bold;  
            font-size: 27px;
            text-decoration: none;
            color: thistle;
            padding: 20px;
            text-shadow: 0px 1px #ffffff, 1px 1px 0px #dad7d7;
        }
    </style>
    <script language="javascript" src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
    <script>
        function check() {
            const getemail = RegExp(/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/);
            const getpw = RegExp(/^[a-zA-Z0-9]{4,12}$/);
            const getname = RegExp(/^[가-힣]+$/);
            const getage = RegExp(/^[0-9]{1,3}$/);
            const getbirth = RegExp(/^[0-9]{4}-[0-9]{2}-[0-9]{2}$/);
            const getphone = RegExp(/^[0-9]{2,4}-[0-9]{4}-[0-9]{4}/);
                
            //이메일 유효성 검사
            if(!getemail.test($("#email").val())){
                alert("이메일형식에 맞게 입력해주세요.")
                $("#email").val("");
                $("#email").focus();
                return false;
            }

            //비밀번호 유효성
            if(!getpw.test($("#pw").val())) {
                alert("비밀번호는 4~12자의 영문 대소문자와 숫자로만 입력해주세요.");
                $("#pw").val("");
                $("#pw").focus();
                return false;
            }

            //비밀번호확인 유효성
            if($("#pw").val() != $("#repw").val()) {
                alert("비밀번호가 맞지 않습니다.");
                $("#repw").val("");
                $("#repw").focus();
                return false;
            }

            //이름 유효성
            if (!getname.test($("#name").val())) {
                alert("이름은 한글로만 입력해주세요.");
                $("#name").val("");
                $("#name").focus();
                return false;
            }

            //나이 유효성
            if (!getage.test($("#age").val())) {
                alert("나이는 숫자로만 입력해주세요.");
                $("#age").val("");
                $("#age").focus();
                return false;
            }

            //생일 유효성
            if (!getbirth.test($("#birth").val())) {
                alert("생년월일은 '년-월-일'로 입력해주세요.");
                $("#birth").val("");
                $("#birth").focus();
                return false;
            }

            //전화번호 유효성
            if (!getphone.test($("#phone").val())) {
                alert("전화번호는 '앞자리-중간자리-끝자리'로 입력해주세요.");
                $("#phone").val("");
                $("#phone").focus();
                return false;
            }
        }

        if(<%= ERROR %> == 100){
            alert("이미 등록되어 있는 이메일입니다.");
        }
    </script>
</head>
<body>
<center>
    <form method="post" action="/signup" onsubmit="return check()">
        <table>
            <h1>회원가입</h1>
            <tr>
                <th>* 이메일</th>
                <td>│</td>
                <td><input type="text" name="email" id="email" required></td>
            </tr>
            <tr>
                <th>* 비밀번호</th>
                <td>│</td>
                <td><input type="password" name="pw" id="pw" maxlength="12" required></td>
            </tr>
            <tr>
                <th>* 비밀번호 확인</th>
                <td>│</td>
                <td><input type="password" name="repw" id="repw" maxlength="12" required></td>
            </tr>
            <tr>
                <th>* 이름</th>
                <td>│</td>
                <td><input type="text" name="name" id="name" required></td>
            </tr>
            <tr>
                <th>* 나이</th>
                <td>│</td>
                <td><input type="text" name="age" id="age" required></td>
            <tr>
                <th>* 생일</th>
                <td>│</td>
                <td><input type="date" name="birth" id="birth" required></td>
            </tr>
            <tr>
                <th>* 성별</th>
                <td>│</td>
                <td>남자 <input type="radio" name="gender" id="gender" value="남자" checked> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;여자 <input type="radio" name="gender" id="gender" value="여자"></td>
            </tr>
            <tr>
                <th>* 전화번호</th>
                <td>│</td>
                <td><input type="text" name="phone" id="phone"></td>
            </tr>
            <tr>
                <th>취미</th>
                <td>│</td>
                <td><input type="text" name="hobby" id="hobby"></td>
            </tr>
        </table>
        <input type="submit" class="input" value="확인">
        <input type="reset" class="input" value="다시적기">
        <a href="/">로그인</a>
    </form>
</center>
</body>
</html>